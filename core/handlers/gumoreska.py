"""
/gumoreska sends a joke to the chat
"""


from random import randint

from aiogram import Router
from datetime import datetime
from aiogram.filters import Command
from aiogram.types import Message, ReplyKeyboardRemove

router = Router()


last_used = {"gumoreska_id": 0, "date": 0}

gumoresky = (
    "–ú–ª—è.. –ú–∞—Ä—ñ—á–∫—É –∑–º—ñ–Ω—è–≤, –≤–æ–Ω–∞ –º–µ–Ω—ñ –æ —à–æ—Å—Ç—ñ–π —Ä–∞–Ω–∫—É –ö–æ–±–∑–∞—Ä—è –≤—Ä—ñ–∑–∞–ª–∞ –Ω–∞–ø–∞–º º—è—Ç—å, —è —ó—ó –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω, —Å–∫–∞, –∑–Ω—è–≤, —Ü—ñ–ª–∏–π –¥–µ–Ω—å, –¶–Ü–õ–ò–ô –î–ï–ù–¨! –ø–µ—Ä–µ–¥–∏–≤–ª—è–≤—Å—è, —Å–ª—å–æ–∑–∏ —Ç–µ—á—É—Ç—å, —Ä–æ–¥–∏—á–∞–º –≤ –ö–∞–Ω–∞–¥—É, –≤ –ù—ñ–º–µ—á—á–∏–Ω—É –≤—ñ–¥–ø—Ä–∞–≤–∏–≤, —Å–∫–∞!.. –ø–ª–∞—á—É—Ç—å! (—Å) –ì—Ä—ñ—à–∞",
    "- —Ç–æ –Ω–µ —Ç–≤–æ—ó –∫–æ—Ç–ª–µ—Ç–∏ —É –ø–æ—Å–∏–ª—Ü—ñ? –±–æ —è –ø–µ—Ä–µ–∂–∏–≤–∞—é, —â–æ –≤–æ–Ω–∏ –∑—ñ–ø—Å—É—é—Ç—å, –∞ —Å–∫–∞–∂—É—Ç—å –Ω–∞ –º–µ–Ω–µ (—Å) –¢–æ–ª—ñ–∫ ",
    "- –Ω—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–∞—Ä–∞–∑‚Ä¶ –Ω—ñ–∫–æ–º—É –Ω—ñ—á–æ–≥–æ –Ω–µ —Ç—Ä–µ–±–∞, –∫–∏–Ω—É–ª–∏ –∫–æ—Ä–æ–±–∫—É —ñ –ø—ñ—à–ª–∏, —Ü–µ ‚Ä¶..—Ü (—Å) –¢–æ–ª—ñ–∫",
    "- –∑–Ω–∞—î—à, —è–∫–µ —Å–≤—è—Ç–æ —Å—å–æ–≥–æ–¥–Ω—ñ?? –î–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –õ–µ–æ–Ω—Ç–æ–≤–∏—á–∞, –©–µ–¥—Ä–∏–∫, —Ñ–∞-–º–∏-—Ñ–∞-—Ä–µ–µ–µ ‚òùÔ∏è (—Å) –¢–æ–ª—ñ–∫",
    "- –ê –∑–Ω–∞—î—à, —á–æ–º—É —Ö–æ–ª–æ–¥–Ω–æ? –ê —è —Ç–æ–±—ñ —Å–∫–∞–∂—É (–Ω–∞—Å—Ç–∞–≤–ª—è—î –ø–∞–ª–µ—Ü—å –Ω–∞ —Ç–µ–±–µ) - –±–æ —Ç–∏ –∑–∞—Ö–æ–¥–∏—à —É –≥—É—Ä—Ç–æ–∂–∏—Ç–æ–∫ —ñ —Ö–æ–ª–æ–¥ –∑–∞–ø—É—Å–∫–∞—î—à, —Ç–æ–º—É –Ω–µ —Å–∫–∞—Ä–∂—Å—è, —ñ –∫—Ä–∏—à–∫—É –≤ —Ç—É–∞–ª–µ—Ç—ñ –ø—ñ—Å–ª—è —Å–µ–±–µ –∑–∞–∫—Ä–∏–≤–∞–π, –±–æ –ø—Ä–æ—Ç—è–≥ –≥—É–ª—è—î, –∞–≥–∞ (—Å) –í–∞–ª–µ—Ä—ñ–π",
    "- ‚Ä¶ –ª—é–¥–æ–Ω—å–∫–∏, —Ç–∞ –º–µ–Ω—ñ –ø–æ –±–∞—Ä–∞–±–∞–Ω—É —Ç–æ–π —Ö–û–æ–ª–æ–¥!, —è —á–µ–∫–∞—é —à–æ—Å—Ç—É —Ä–∞–Ω–∫—É, —â–æ–± —Å–∫–æ—Ä—à–µ –∑–¥—Ä—è—Å–Ω—É—Ç–∏ –∑–≤—ñ–¥—Å–∏ —ñ –∑–∞–±—É—Ç–∏!, —è–∫ –ø–ª–∞—Ç—è—Ç—å, —Ç–∞–∫ —ñ –ø—Ä–∞—Ü—é—é!, –º–µ–Ω–µ –≤—Å–µ –∂–∏—Ç—Ç—è –ª—é–±–æ—É –≥—Ä—ñ–ª–∞, –ë–æ–∂–µ, —è–∫ —Ç–æ –±–£–ª–æ!‚Ä¶ –º–µ–Ω—ñ –¥–æ—Å—ñ –≥–∞—Ä—è—á–µ (—Å) –ú–∞—Ä—ñ—á–∫–∞",
    "- –¢–æ–±—ñ —Ö–æ–ª–æ–¥–Ω–æ? –Ø —Ç–µ–∂ –≤—ñ–¥—á—É–≤–∞—é.. –¥–∑–≤–æ–Ω–∏–≤ —É —Ç–µ–ø–ª–æ–º–µ—Ä–µ–∂—ñ, –Ω—É –≤–æ–Ω–æ –∂ –Ω—ñ–∫–æ–º—É –∫—Ä—ñ–º –º–µ–Ω–µ –Ω–µ —Ç—Ä–µ–±–∞ (—Ü–µ ‚Ä¶–∑–¥–µ—Ü), –Ω—É —è —Å–æ–±—ñ –∫–æ–ª–æ—Ä–∏—Ñ–µ—Ä –≤–∫–ª—é—á–∏–≤, –Ω—É –∞ —Å—Ç—É–¥–µ–Ω—Ç–∏‚Ä¶, –º–µ–Ω—ñ –∂–∞–ª–∫–æ, —Ö—ñ–±–∞ —Ä—é–º–ê—á–∫—É (—Å–º—ñ—î—Ç—å—Å—è) (—Å) –¢–æ–ª—ñ–∫",
    "- –¢–ê –î–ï –•–û–õ–û–î–ù–û?! –¢–∏ (..–º–ª—è) –º–æ–ª–æ–¥–∏–π, –∫—Ä–æ–≤ –≥—É–ª—è—î, –¥–µ —Ö–æ–ª–æ–¥–Ω–æ? –í—ñ–∑—å–º–∏ —à–µ—Ä—Å—Ç—è–Ω—ñ —à–∫–∞—Ä–ø–µ—Ç–∫–∏, –Ω–∞—Å–∏–ø –≥—ñ—Ä—á–∏—Ü—ñ —ñ —Å–ø–∏, –∑–∞–±—É–¥—å –ø—Ä–æ –±–∞–±–∞—Ö, —è–±–ª—É—á–∫–æ –∑ º—ó–≤ —ñ —Å–ø–∏—à —Å–æ–±—ñ, –û—Ç—á–µ –Ω–∞—à –Ω–µ –∑–∞–±—É–≤–∞–π, —è —Ç–æ–±—ñ –∫–ê–∂—É! (—Å) –ì—Ä—ñ—à–∞",
    "–•—Ç–æ—Å—å –±–∞—á–∏–≤ —á–æ—Ä–Ω—É –≤–æ–¥–æ–ª–∞–∑–∫—É?",
    "–í–∞–ª—î—Ä–∞ —Å–∫–∞–∑–∞–≤, —â–æ —Ü–µ –Ω–µ –±–ª–æ–∫-–ø–æ—Å—Ç —É –í–∞–ª–µ–Ω—Ç–∏–Ω–∏, –∞ –ß–Ü–°–¢–Ü–õ–Ü–©–ï",
    "–ì—Ä—ñ—à–∞: (—Å–∫–ª–∞–≤—à–∏ —Ä—É–∫–∏ –Ω–∞–≤—Ö—Ä–µ—Å—Ç)\n- –Ω–∞—â–æ —Ç–æ–±—ñ —Ç–∞ –∫–∞–≤–∞, –±–∞–±–∫–∏ —Ç—Ä–∞—Ç–∏—à!, —è —Ç–æ–±—ñ –∫–∞–∂—É, —ñ–¥–∏ –∑—ñ—Ä–≤–∏ –ª–∏—Å—Ç–æ—á–æ–∫ —Å–º–æ—Ä–æ–¥–∏–Ω–∏, –º º—è—Ç–∏ - —Ü–µ –±—É–¥–µ –∫–∞–ø–µ—Ü!\n\n–ú–∞—Ä—ñ—á–∫–∞: (—Ä—É–∫–∏ –≤ –∫–∏—à–µ–Ω—è—Ö —Å–∞–Ω—ñ—Ç–∞—Ä–Ω–æ–≥–æ —Ö–∞–ª–∞—Ç—É)\n- –π–æ–π, –±–∞–±–∞, –º–µ–Ω—ñ —Ü—è –∫–∞–≤–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞!, —è —É –º–æ–ª–æ–¥–æ—Å—Ç—ñ —ó—ó –Ω–∞–ø–∏–ª–∞—Å—è, —ñ –†–ï–õ–Ø–ö–°–û–í–ê, —ñ —è–∫ –º–µ–Ω—ñ —Ç—ñ–ª—å–∫–∏ –Ω–µ —Ä–æ–±–∏–ª–∏, —Ç–∞ –π–æ–π, –∫–æ–ª–∏ —Ü–µ –±—É–ª–æ!..\n\n–ê–Ω–∞—Ç–æ–ª—ñ–π: \n- –∫–∞–≤–∏ —Ö–æ—á–µ—à –ø–æ–ø–∏—Ç–∏? –Ü –¥–æ–±—Ä–∞ —Ç—É—Ç –∫–∞–≤–∞, –ø—Ä–∞–≤–¥–∞? –ö–∞–∂—É—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∏, —â–æ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è\n\n–í–∞–ª–µ—Ä—ñ–π: (–∑ –ø—ñ–¥ –ª–æ–±–∞, –∑ –ø–æ–ø—ñ–¥ –æ–∫—É–ª—è—Ä—ñ–≤, —ñ–∑-–∑–∞ —Å–∫–ª–∞)\n- –∫–∞–≤–∏ —Ö–æ—á–µ—à? –¥–∏–≤–∏—Å—å –Ω–µ –∑–ª–∞–º–∞–π —Ç–∞–º –Ω—ñ—á–æ–≥–æ, —è–∫—â–æ –∑–ª–∞–º–∞—î—à, —Ç–æ —Ç–∞–º –∫–∞–º–µ—Ä–∞ –∑–∞–ø–∏—Å—É—î\n–Ü –≤–∏–¥–±–∏—Ç–∫—ñ–≤ –ø–∞–ª—å—Ü—ñ–≤ –Ω–µ –∑–∞–ª–∏—à–∞–π, –Ω–µ –ø—Å—É–π",
    "–ì—Ä–∏–≥–æ—Ä—ñ–π —ñ–Ω—Å–ø–µ–∫—Ç—É—î –ø–æ –¥–µ—è–∫–∏—Ö –∫—ñ–º–Ω–∞—Ç–∞—Ö, —Å—Ç—É–∫–∞—î—Ç—å—Å—èüëÄ\n–ö–æ–º—É—Å—å —Å–∫–∞–∑–∞–≤: ¬´–¥–∞–≤–∞–π, —Å–ø–∏ —Å–ø–æ–∫—ñ–π–Ω–æ, –∑–∞–±—É–¥—å –ø—Ä–æ –±–∞–±–∞—Ö¬ª",
    "–ì—É—á–Ω–æ–º–æ–≤–µ—Ü—å —Å—Ö–∏–ª—è—î –¥–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ!",
    "–£–≤–µ—Ä—Ç—é—Ä–∞ –¥–æ –æ–ø–µ—Ä–∏ ¬´–ë–ª–∏–∑–µ–Ω—å–∫–æ¬ª\n\n–¥–∞–ª—ñ 1 –¥—ñ—è, —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä –¥—ñ—ó - –∞—Ä—ñ–æ–∑–æ –ø–∞–Ω—ñ –ú–∞—Ä—ñ—á–∫–∏ ¬´–°–æ–Ω—Ü–µ –Ω–∏–∑–µ–Ω—å–∫–æ, —Å–ø—ñ—à–∏–ª–∞ –≤ –ë–ª–∏–∑–µ–Ω—å–∫–æ‚Ä¶¬ª",
    "–ê—Ä—ñ—è –ú–∏—Ä–æ—Å–ª–∞–≤–∞: ¬´–í–∂–µ –¥–≤–∞–Ω–∞–¥—Ü—è—Ç–∞ –≥–æ–¥–∏–Ω–∞, —á–∏ –ø—Ä–æ–¥–∞—Å—Ç—å –º–µ–Ω—ñ –Ø—Ä–∏–Ω–∞?¬ª\n\n20:47: —Ö–æ—Ä —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ ¬´–í –ø–æ—Ö—ñ–¥, –≤ –ø–æ—Ö—ñ–¥!¬ª",
    "–£ –∫–∞–±—ñ–Ω–µ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –∑–∞—Ö–æ–¥–∏—Ç—å –ø–∞—Ü—ñ—î–Ω—Ç —ñ –∫–∞–∂–µ: ‚Äî –õ—ñ–∫–∞—Ä—é, —è –º–∞—é —Å–µ—Ä–π–æ–∑–Ω—É –ø—Ä–æ–±–ª–µ–º—É. –î—É–∂–µ —â–≤–∏–¥–∫–æ –≤—Ç–æ–º–ª—é—é—Å—è. ‚Äî –ß–æ–º—É? ‚Äî –ú–µ–Ω—ñ —â–æ–Ω–æ—á—ñ —Å–Ω–∏—Ç—å—Å—è –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π —Å–æ–Ω: –ø–µ—Ä—à—É –ø–æ–ª–æ–≤–∏–Ω—É –Ω–æ—á—ñ —è —à—Ç–æ–≤—Ö–∞—é –ø–æ—Ç—è–≥ –ö–∏—ó–≤-–õ—å–≤—ñ–≤, –∞ –¥—Ä—É–≥—É ‚Äî –õ—å–≤—ñ–≤-–ö–∏—ó–≤. ‚Äî –ù—É, —É—è–≤—ñ—Ç—å —Å–æ–±—ñ, —â–æ –¥—Ä—É–≥—É –ø–æ–ª–æ–≤–∏–Ω—É –Ω–æ—á—ñ –ø–æ—Ç—è–≥ –õ—å–≤—ñ–≤-–ö–∏—ó–≤ —à—Ç–æ–≤—Ö–∞—é —è. ‚Äî –û–π, —Å–ø–∞—Å–∏–±—ñ, –ª—ñ–∫–∞—Ä—é. –ó–∞—Ö–æ–¥–∏—Ç—å —ñ–Ω—à–∏–π –ø–∞—Ü—ñ—î–Ω—Ç: ‚Äî –õ—ñ–∫–∞—Ä—é, –º–∞—é —Ç–∞–∫—É –º—É–∫—É. –ü–µ—Ä—à—É –ø–æ–ª–æ–≤–∏–Ω—É –Ω–æ—á—ñ –º–µ–Ω—ñ —Å–Ω–∏—Ç—å—Å—è, —â–æ —è –º–∞—é —Å–µ–∫—Å —ñ–∑ –±—ñ–ª—è–≤–∫–æ—é, –∞ –¥—Ä—É–≥—É ‚Äî –∑ –±—Ä—é–Ω–µ—Ç–∫–æ—é. –î—É–∂–µ –∑–º–æ—Ä—é—é—Å—å. ‚Äî –ù—É, —É—è–≤—ñ—Ç—å —Å–æ–±—ñ, —â–æ –ø–µ—Ä—à—É –ø–æ–ª–æ–≤–∏–Ω—É –Ω–æ—á—ñ –∑ –±—ñ–ª—è–≤–∫–æ—é —Å–ø–ª—é —è. ‚Äî –ê –±—ñ–ª—è–≤–∫–∞ —Å–∏–º–ø–∞—Ç–∏—á–Ω—ñ—à–µ. –ß–∏ –Ω–µ –º–æ–≥–ª–∏ –± –º–∏ –ø–æ–º—ñ–Ω—è—Ç–∏—Å—è? ‚Äî –ù—ñ—è–∫ –Ω–µ –º–æ–∂–Ω–∞. –î—Ä—É–≥—É –ø–æ–ª–æ–≤–∏–Ω—É –Ω–æ—á—ñ —è —à—Ç–æ–≤—Ö–∞—é –ø–æ—Ç—è–≥ –õ—å–≤—ñ–≤-–ö–∏—ó–≤.",
    "–î—ñ–≤—á–∏–Ω–∞ —Å–∫–∞–∑–∞–ª–∞, —â–æ –Ω–µ –∑–Ω–∞—î —è–∫ —Ä–æ–∑–≤–∞–∂–∏—Ç–∏—Å—è —É –õ—å–≤–æ–≤—ñ. –ü—Ä–∏—á–µ–ø–∏–≤ —ó–π –¥–æ —Ä—é–∫–∑–∞–∫—É –≥–µ–æ—Ä–≥—ñ—ó–≤—Å—å–∫—É —Å—Ç—Ä—ñ—á–∫—É.",
    "–°–Ω–∏—Ç—å—Å—è –¥–∏—Ä–∏–≥–µ–Ω—Ç–æ–≤—ñ —Å—Ç—Ä–∞—à–Ω–∏–π —Å–æ–Ω: –Ω—ñ–±–∏ –≤—ñ–Ω –≥–µ—Ç—å —Ä–æ–∑—ñ–π—à–æ–≤—Å—è –∑ –æ—Ä–∫–µ—Å—Ç—Ä–æ–º, —ñ –≤—Å—ñ –º—É–∑–∏–∫–∞–Ω—Ç–∏ –≥—Ä–∞—é—Ç—å —à–æ –ø–æ–ø–∞–ª–æ. –ü—Ä–æ–∫–∏–¥–∞—î—Ç—å—Å—è –¥–∏—Ä–∏–≥–µ–Ω—Ç —ñ –≤–∏—è–≤–ª—è—î - —Ç–∞–∫ –≤–æ–Ω–æ —ñ —î.",
)


async def update_gumoreska():
    global last_used
    today = datetime.now().date()
    last_used = last_used["date"]

    if today != last_used:
        last_used["gumoreska_id"] = (last_used["gumoreska_id"] + 1) % 18
        last_used["date"] = today


@router.message(Command("gumoreska"))
async def gumoreska_handler(message: Message):
    text = f"–≥—É–º–æ—Ä–µ—Å–∫–∞ –¥–Ω—è!!\n\n{gumoresky[last_used["gumoreska_id"]]}"
    await message.answer(text)
